<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>デジタル時計</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: black;
        }
        #clock {
            width: 600px;
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: space-between; /* 均等間隔 */
        }
        .digit {
            width: 120px;
            height: 200px;
            position: relative;
        }
        .colon {
            width: 20px;
            height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .colon-dot {
            width: 20px; /* 2倍の大きさ */
            height: 20px;
            background-color: white;
            border-radius: 50%;
            margin: 30px 0;
        }
        .colon.hidden .colon-dot {
            background-color: #222222; /* 消灯時はダークグレー */
        }
        .segment {
            fill: white;
            stroke: white;
            stroke-width: 4; /* 太めに */
        }
        .segment.off {
            fill: #222222; /* 消灯セグメントはダークグレー */
            stroke: #222222;
        }
    </style>
</head>
<body>
    <div id="clock">
        <div class="digit" id="digit1"></div>
        <div class="digit" id="digit2"></div>
        <div class="colon" id="colon">
            <div class="colon-dot"></div>
            <div class="colon-dot"></div>
        </div>
        <div class="digit" id="digit3"></div>
        <div class="digit" id="digit4"></div>
    </div>

    <script>
        // 7セグメントのSVG定義（高さ200px、セグメントを3倍太く）
        const segmentSVG = (id) => `
            <svg width="120" height="200" viewBox="0 0 120 200">
                <!-- セグメントa (上) -->
                <polygon class="segment" id="${id}-a" points="30,10 90,10 80,25 40,25"/>
                <!-- セグメントb (右上) -->
                <polygon class="segment" id="${id}-b" points="95,30 110,40 110,90 95,100"/>
                <!-- セグメントc (右下) -->
                <polygon class="segment" id="${id}-c" points="95,110 110,120 110,170 95,180"/>
                <!-- セグメントd (下) -->
                <polygon class="segment" id="${id}-d" points="30,190 90,190 80,175 40,175"/>
                <!-- セグメントe (左下) -->
                <polygon class="segment" id="${id}-e" points="10,110 25,120 25,170 10,180"/>
                <!-- セグメントf (左上) -->
                <polygon class="segment" id="${id}-f" points="10,30 25,40 25,90 10,100"/>
                <!-- セグメントg (中) -->
                <polygon class="segment" id="${id}-g" points="30,95 90,95 80,110 40,110"/>
            </svg>
        `;

        // 7セグメントの表示パターン (0-9)
        const patterns = {
            '0': ['a', 'b', 'c', 'd', 'e', 'f'],
            '1': ['b', 'c'],
            '2': ['a', 'b', 'd', 'e', 'g'],
            '3': ['a', 'b', 'c', 'd', 'g'],
            '4': ['b', 'c', 'f', 'g'],
            '5': ['a', 'c', 'd', 'f', 'g'],
            '6': ['a', 'c', 'd', 'e', 'f', 'g'],
            '7': ['a', 'b', 'c'],
            '8': ['a', 'b', 'c', 'd', 'e', 'f', 'g'],
            '9': ['a', 'b', 'c', 'd', 'f', 'g']
        };

        // SVGを各桁に設定
        document.getElementById('digit1').innerHTML = segmentSVG('d1');
        document.getElementById('digit2').innerHTML = segmentSVG('d2');
        document.getElementById('digit3').innerHTML = segmentSVG('d3');
        document.getElementById('digit4').innerHTML = segmentSVG('d4');

        function updateClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0'); // 24時間制
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const time = hours + minutes;

            // 各桁を更新
            ['d1', 'd2', 'd3', 'd4'].forEach((digitId, index) => {
                const digit = time[index];
                const segments = ['a', 'b', 'c', 'd', 'e', 'f', 'g'];
                segments.forEach(segment => {
                    const element = document.getElementById(`${digitId}-${segment}`);
                    if (patterns[digit].includes(segment)) {
                        element.style.fill = 'white';
                        element.style.stroke = 'white';
                        element.classList.remove('off');
                    } else {
                        element.style.fill = '#222222'; // 消灯はダークグレー
                        element.style.stroke = '#222222';
                        element.classList.add('off');
                    }
                });
            });

            // コロンの点滅
            const colon = document.getElementById('colon');
            colon.classList.toggle('hidden');
        }

        // 初回更新
        updateClock();
        // 1秒ごとに更新
        setInterval(updateClock, 1000);
    </script>
</body>
</html>